<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Component Instance</title>
	<script src="https://unpkg.com/cwco/dist/web-component.min.js"
	        type="text/javascript"></script>
	<style id="app-css"></style>
</head>
<body>

<main id="app-html">
<action-button></action-button>
</main>

<script id="app-js">
class ActionButton extends WebComponent {
	onMount() {
		/**
		 * The best way to set options to event listeners
		 * is by grabbing reference of the element
		 * and manually add event listener with any
		 * option you want
		 */
		this.$refs.btn.addEventListener('click', (event) => {
			event.stopPropagation();
			this.dispatchEvent(new Event('click'))
		}, {
			capture: false,
			once: true
		})
	}
	
	get template() {
		return `<button type="button" ref="btn">click me</button>`
	}
}

ActionButton.register();

</script>
</body>
</html>
